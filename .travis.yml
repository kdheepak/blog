language: python
python:
  - "2.7"
before_install:
  - git clone --recursive https://github.com/getpelican/pelican-plugins
  - rm -rf pelican-plugins/pandoc_reader
  - git clone https://github.com/kdheepak89/pandoc_reader.git pelican-plugins/pandoc_reader
  - git clone https://github.com/kdheepak89/pelican-smoothie.git pelican-themes/pelican-smoothie
install:
  - easy_install -U setuptools
  - pip install -U pip wheel
  - pip install -r requirements.txt
  - sudo apt-get install pandoc
before_script:
  - git config user.name "Travis-CI"
  - git config user.email "noreply@travis-ci.org"
  - COMMIT_MESSAGE="Publishing site on `date "+%Y-%m-%d %H:%M:%S"` from `git log -n 1 --format='commit %h - %s'`"
script:
  - make github
notifications:
  email: false
# whitelist
branches:
  only:
    - master
cache:
  directories:
  - pelican-plugins
  - pelican-themes
